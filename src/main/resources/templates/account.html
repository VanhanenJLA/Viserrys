<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/head :: head(title=${account.username})"></head>

<body>

  <navbar th:replace="fragments/navbar :: navbar"></navbar>

  <main role="main">

    <jumbotron th:replace="fragments/jumbotron :: jumbotron(jumbotronTitle=|${account.username}'s profile|)">
    </jumbotron>

    <div class="container">
      <div class="row">

        <!-- Profile information -->
        <div class="col-md-4">

          <!-- Picture -->
          <div th:if="${account.hasProfilePicture()}"
               class="row justify-content-center">
            <img class="img-fluid img-thumbnail rounded-circle mt-n5"
                 th:src="@{|/photos/${account.profilePicture.id}/content|}">
          </div>

          <div th:if="${!account.hasProfilePicture()}"
               class="row justify-content-center">
            <img class="img-fluid img-thumbnail rounded-circle mt-n5"
                 th:src="@{https://thispersondoesnotexist.com/image}">
          </div>

          <h2 th:text="${account.username}"></h2>

          <!-- Following -->
          <a th:href="@{|/accounts/${username}/following|}">
            <p th:text="|${account.getFollowing().size()} following|"></p>
          </a>

          <!-- Followers -->
          <a th:href="@{/accounts/{username}/followers(username=${account.username})}">
            <p th:text="|${account.getFollowers().size()} followers|"></p>
          </a>

          <!-- Photos -->
          <a th:href="@{/accounts/{username}/photos(username=${account.username})}">
            <p th:text="|${account.getPhotos().size()} photos|"></p>
          </a>

        </div>

        <!-- Tweets -->
        <div class="col-md-8">
          <h2>Tweets</h2>
          <button data-toggle="collapse"
                  data-target="new-tweet"
                  class="btn btn-block btn-outline-primary mb-2">Leave a tweet!</button>
          <new-tweet th:replace="components/new-tweet.html :: new-tweet"></new-tweet>

          <div th:each="tweet : ${tweets}">
            <tweet th:replace="components/tweet.html :: tweet(tweet=${tweet})"></tweet>
          </div>

        </div>

      </div>

    </div>

  </main>

  <footer th:replace="fragments/footer :: footer"></footer>

</body>

</html>