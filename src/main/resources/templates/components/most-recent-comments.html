<most-recent-comments>

  <div th:if="${photo.comments.size() > max}">
    <div th:each="comment : ${photo.comments.subList(0, max)}">
      <comment th:replace="components/comment.html :: comment(comment=${comment})"></comment>
    </div>
  </div>

  <div th:if="${photo.comments.size() <= max}">
    <div th:each="comment : ${photo.comments}">
      <comment th:replace="components/comment.html :: comment(comment=${comment})"></comment>
    </div>
  </div>

</most-recent-comments>